/*
 * lzbase62 - LZ77(LZSS) based compression algorithm in base62 for JavaScript.
 * @version 1.2.1
 * @copyright Copyright (c) 2014 polygon planet <polygon.planet.aqua@gmail.com>
 * @license Licensed under the MIT license.
 */
(function(h,l,a){"use strict";"undefined"!==typeof module&&module.exports?module.exports=a():"function"===typeof define&&define.amd?define(a):l[h]=a()})("lzbase62",this,function(){function h(){this._length=this._index=this._offset=this._data=null}var l=String.fromCharCode;h.prototype={_createWindow:function(){var a;a=" ";var e=1024;if("function"===typeof a.repeat)a=a.repeat(e);else{for(var b="";;)if(e&1&&(b+=a),e>>=1)a+=a;else break;a=b}return a},_search:function(){var a=4,e=this._data.substr(this._offset,59),
b=e.length;if(b<a)return!1;var d=e.slice(0,a),c=this._offset-1024,d=this._data.substring(c,this._offset+a-1).lastIndexOf(d);if(!~d)return!1;for(c+=d;a<b&&e.charAt(a)===this._data.charAt(c+a);)a++;this._index=1024-d;this._length=a;return!0},compress:function(a){if(null==a)return"";var e="",b,d,c,f,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");d=this._createWindow();this._offset=d.length;this._data=d+a;for(a=this._data.length;this._offset<a;)this._search()?(d=this._index%
59,c=(this._index-d)/59,e+=g[61]+g[d]+g[c]+g[this._length],this._offset+=this._length,f=-1):(b=this._data.charCodeAt(this._offset++),132>b?(d=b%40,c=(b-d)/40,c=c+62+1,f===c?e+=g[d]:(e+=g[c-20]+g[d],f=c)):(d=b%1640,c=(b-d)/1640,b=d%40,d=(d-b)/40,c=c+62+5,f===c?e+=g[b]+g[d]:(e+=g[60]+g[c-62]+g[b]+g[d],f=c)));return e},decompress:function(a){if(null==a)return"";var e=this._createWindow(),b,d,c,f,g,h=!1;f=null;var k={};b=0;for(d=62;b<d;b++)k["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(b)]=
b;b=0;for(d=a.length;b<d;b++)if(c=k[a.charAt(b)],!(62<=c))if(43>c)h?(g=k[a.charAt(++b)],g=40*g+c+1640*f):g=40*f+c,e+=l(g);else if(47>c)f=c-43,h=!1;else if(60===c)f=k[a.charAt(++b)],f-=5,h=!0;else if(61===c){f=k[a.charAt(++b)];g=k[a.charAt(++b)];f=59*g+f;g=k[a.charAt(++b)];if(c=e.slice(-1024).slice(-f).substring(0,g)){for(f="";f.length<g;)f+=c;f=f.substring(0,g);e+=f}f=null}return e.substring(1024)}};return{compress:function(a){return(new h).compress(a)},decompress:function(a){return(new h).decompress(a)}}});
