/*
 * lzbase62 - LZ77(LZSS) based compression algorithm in base62 for JavaScript.
 * @version 1.0.1
 * @copyright Copyright (c) 2014 polygon planet <polygon.planet.aqua@gmail.com>
 * @license Licensed under the MIT license.
 */
(function(f,l,a){"use strict";"undefined"!==typeof module&&module.exports?module.exports=a():"function"===typeof define&&define.amd?define(a):l[f]=a()})("lzbase62",this,function(){function f(){this._length=this._index=this._offset=this._data=null}var l=String.fromCharCode;f.prototype={_createWindow:function(){var a;a=" ";var d=3660;if("function"===typeof String.prototype.repeat)a=a.repeat(d);else{for(var c="";;)if(d&1&&(c+=a),d>>=1)a+=a;else break;a=c}return a},_search:function(){var a=-1,d,c,e=this._data.substr(this._offset,
60);if(!e)return!1;for(var b=2,g=e.length;b<=g;b++)if(c=e.substring(0,b),d=this._data.substring(this._offset-3660,this._offset+b-1),d=d.lastIndexOf(c),~d){for(;b++<=g&&(c=e.substring(0,b),a=this._data.substring(d+this._offset-3660,d+this._offset-3660+b),c===a););b--;a=3660-d}else break;this._index=a;this._length=b-1;return!0},compress:function(a){if(null==a)return"";var d="",c,e,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");c=this._createWindow();this._offset=c.length;
for(this._data=c+a;;){a=this._search();if(!a)break;~this._index?(a=this._index%60,c=(this._index-a)/60,d+=b[61]+b[a]+b[c]+b[this._length],this._offset+=this._length):(c=this._data.charCodeAt(this._offset++),3660>c?(a=c%60,c=(c-a)/60,d+=b[a]+b[c]):(a=c%3660,c=(c-a)/3660,e=a%60,a=(a-e)/60,d+=b[60]+b[c]+b[e]+b[a]))}return d},decompress:function(a){if(null==a)return"";var d=this._createWindow(),c,e,b,g,k,h;h=k=!1;var f={};c=0;for(e=62;c<e;c++)f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c)]=
c;c=0;for(e=a.length;c<e;c++)if(b=f[a.charAt(c)],60>b)if(g=f[a.charAt(++c)],h){b=60*g+b;h=f[a.charAt(++c)];if(g=d.slice(-3660).slice(-b).substring(0,h)){for(b="";b.length<h;)b+=g;d+=b.substring(0,h)}h=!1}else k?(k=f[a.charAt(++c)],b=60*k+g+3660*b,k=!1):b=60*g+b,d+=l(b);else 60===b?k=!0:61===b&&(h=!0);return d.substring(3660)}};return{compress:function(a){return(new f).compress(a)},decompress:function(a){return(new f).decompress(a)}}});
